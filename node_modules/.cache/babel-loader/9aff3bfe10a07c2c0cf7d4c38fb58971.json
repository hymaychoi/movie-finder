{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hymay/OneDrive/Desktop/react-project/movie_finder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hymay/OneDrive/Desktop/react-project/movie_finder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hymay/OneDrive/Desktop/react-project/movie_finder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'../css/home.css';import Movie from'../components/Movie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var slider=document.getElementById('slider');var _useState=useState(0),_useState2=_slicedToArray(_useState,2),startX=_useState2[0],setStartX=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),scrollLeft=_useState4[0],setScrollLeft=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),mouseDown=_useState6[0],setMouseDown=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),movies=_useState10[0],setMovies=_useState10[1];var getMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://yts.mx/api/v2/list_movies.json?minimum_rating=9.8\");case 2:_context.next=4;return _context.sent.json();case 4:data=_context.sent;console.log(data);setMovies(data.data.movies);setLoading(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovies(){return _ref.apply(this,arguments);};}();var onMouseDown=function onMouseDown(e){setMouseDown(true);slider.classList.add(\"active\");setStartX(e.pageX-slider.offsetLeft);setScrollLeft(slider.scrollLeft);};var onMouseUp=function onMouseUp(e){setMouseDown(false);slider.classList.remove(\"active\");};var onMouseLeave=function onMouseLeave(e){setMouseDown(false);slider.classList.remove(\"active\");};var onMouseMove=function onMouseMove(e){if(!mouseDown)return;e.preventDefault();var x=e.pageX-slider.offsetLeft;var walk=(x-startX)*4;slider.scrollLeft=scrollLeft-walk;};useEffect(function(){getMovies();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"title\",children:[\"Top Rated\",/*#__PURE__*/_jsx(\"span\",{children:\"Movies\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:loading?/*#__PURE__*/_jsx(\"iframe\",{src:\"https://giphy.com/embed/3o7bu3XilJ5BOiSGic\",frameBorder:\"0\",className:\"loading_icon\",allowFullScreen:true}):/*#__PURE__*/_jsx(\"div\",{id:\"slider\",className:\"items\",onMouseDown:onMouseDown,onMouseUp:onMouseUp,onMouseLeave:onMouseLeave,onMouseMove:onMouseMove,children:movies.map(function(movie){return/*#__PURE__*/_jsx(Movie,{id:movie.id,coverImg:movie.medium_cover_image,title:movie.title,genres:movie.genres},movie.id);})})})]});}export default Home;","map":{"version":3,"names":["useState","useEffect","Movie","Home","slider","document","getElementById","startX","setStartX","scrollLeft","setScrollLeft","mouseDown","setMouseDown","loading","setLoading","movies","setMovies","getMovies","fetch","json","data","console","log","onMouseDown","e","classList","add","pageX","offsetLeft","onMouseUp","remove","onMouseLeave","onMouseMove","preventDefault","x","walk","map","movie","id","medium_cover_image","title","genres"],"sources":["C:/Users/hymay/OneDrive/Desktop/react-project/movie_finder/src/routes/Home.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport '../css/home.css';\r\nimport Movie from '../components/Movie'\r\n\r\nfunction Home(){\r\n  const slider = document.getElementById('slider')\r\n  const [startX, setStartX] = useState(0)\r\n  const [scrollLeft, setScrollLeft] = useState(0)\r\n  const [mouseDown, setMouseDown] = useState(false)\r\n  const [loading, setLoading] = useState(true)\r\n  const [movies, setMovies] = useState([])\r\n  \r\n  const getMovies = async()=>{\r\n    const data = await (await fetch(`https://yts.mx/api/v2/list_movies.json?minimum_rating=9.8`)).json()\r\n    console.log(data)\r\n    setMovies(data.data.movies)\r\n    setLoading(false)\r\n  }\r\n\r\n  const onMouseDown = (e)=>{\r\n    setMouseDown(true)\r\n    slider.classList.add(\"active\")\r\n    setStartX(e.pageX - slider.offsetLeft) \r\n    setScrollLeft(slider.scrollLeft)\r\n  }\r\n  \r\n  const onMouseUp = (e)=>{\r\n    setMouseDown(false)\r\n    slider.classList.remove(\"active\")\r\n  }\r\n  \r\n  const onMouseLeave = (e)=>{\r\n    setMouseDown(false)\r\n    slider.classList.remove(\"active\")\r\n  }\r\n\r\n  const onMouseMove = (e)=>{\r\n    if(!mouseDown) return\r\n    e.preventDefault()\r\n    const x = e.pageX - slider.offsetLeft\r\n    const walk = (x-startX) * 4\r\n    slider.scrollLeft = scrollLeft - walk;\r\n  }\r\n  useEffect(()=>{\r\n    getMovies()\r\n  }, [])\r\n  \r\n  return (\r\n    <div className=\"Home\">\r\n      <div className='header'>\r\n        <h1 className='title'>Top Rated<span>Movies</span></h1>\r\n      </div>\r\n      <div className='main'>\r\n        {loading ? <iframe src=\"https://giphy.com/embed/3o7bu3XilJ5BOiSGic\" frameBorder=\"0\" className='loading_icon' allowFullScreen></iframe>: \r\n          <div id='slider'\r\n               className='items' \r\n               onMouseDown={onMouseDown}\r\n               onMouseUp={onMouseUp}\r\n               onMouseLeave={onMouseLeave} \r\n               onMouseMove={onMouseMove}>\r\n            {movies.map(movie=> \r\n              <Movie key={movie.id}\r\n                     id={movie.id}\r\n                     coverImg={movie.medium_cover_image} \r\n                     title={movie.title} \r\n                     genres={movie.genres} />)}\r\n          </div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home"],"mappings":"gcAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAO,iBAAP,CACA,MAAOC,MAAP,KAAkB,qBAAlB,C,wFAEA,QAASC,KAAT,EAAe,CACb,GAAMC,OAAM,CAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf,CACA,cAA4BN,QAAQ,CAAC,CAAD,CAApC,wCAAOO,MAAP,eAAeC,SAAf,eACA,eAAoCR,QAAQ,CAAC,CAAD,CAA5C,yCAAOS,UAAP,eAAmBC,aAAnB,eACA,eAAkCV,QAAQ,CAAC,KAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eACA,eAA8BZ,QAAQ,CAAC,IAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eACA,eAA4Bd,QAAQ,CAAC,EAAD,CAApC,0CAAOe,MAAP,gBAAeC,SAAf,gBAEA,GAAMC,UAAS,4FAAG,oKACUC,MAAK,6DADf,6CAC8EC,IAD9E,UACVC,IADU,eAEhBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAJ,SAAS,CAACI,IAAI,CAACA,IAAL,CAAUL,MAAX,CAAT,CACAD,UAAU,CAAC,KAAD,CAAV,CAJgB,sDAAH,kBAATG,UAAS,0CAAf,CAOA,GAAMM,YAAW,CAAG,QAAdA,YAAc,CAACC,CAAD,CAAK,CACvBZ,YAAY,CAAC,IAAD,CAAZ,CACAR,MAAM,CAACqB,SAAP,CAAiBC,GAAjB,CAAqB,QAArB,EACAlB,SAAS,CAACgB,CAAC,CAACG,KAAF,CAAUvB,MAAM,CAACwB,UAAlB,CAAT,CACAlB,aAAa,CAACN,MAAM,CAACK,UAAR,CAAb,CACD,CALD,CAOA,GAAMoB,UAAS,CAAG,QAAZA,UAAY,CAACL,CAAD,CAAK,CACrBZ,YAAY,CAAC,KAAD,CAAZ,CACAR,MAAM,CAACqB,SAAP,CAAiBK,MAAjB,CAAwB,QAAxB,EACD,CAHD,CAKA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACP,CAAD,CAAK,CACxBZ,YAAY,CAAC,KAAD,CAAZ,CACAR,MAAM,CAACqB,SAAP,CAAiBK,MAAjB,CAAwB,QAAxB,EACD,CAHD,CAKA,GAAME,YAAW,CAAG,QAAdA,YAAc,CAACR,CAAD,CAAK,CACvB,GAAG,CAACb,SAAJ,CAAe,OACfa,CAAC,CAACS,cAAF,GACA,GAAMC,EAAC,CAAGV,CAAC,CAACG,KAAF,CAAUvB,MAAM,CAACwB,UAA3B,CACA,GAAMO,KAAI,CAAG,CAACD,CAAC,CAAC3B,MAAH,EAAa,CAA1B,CACAH,MAAM,CAACK,UAAP,CAAoBA,UAAU,CAAG0B,IAAjC,CACD,CAND,CAOAlC,SAAS,CAAC,UAAI,CACZgB,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBACE,YAAI,SAAS,CAAC,OAAd,oCAA+B,gCAA/B,GADF,EADF,cAIE,YAAK,SAAS,CAAC,MAAf,UACGJ,OAAO,cAAG,eAAQ,GAAG,CAAC,4CAAZ,CAAyD,WAAW,CAAC,GAArE,CAAyE,SAAS,CAAC,cAAnF,CAAkG,eAAe,KAAjH,EAAH,cACN,YAAK,EAAE,CAAC,QAAR,CACK,SAAS,CAAC,OADf,CAEK,WAAW,CAAEU,WAFlB,CAGK,SAAS,CAAEM,SAHhB,CAIK,YAAY,CAAEE,YAJnB,CAKK,WAAW,CAAEC,WALlB,UAMGjB,MAAM,CAACqB,GAAP,CAAW,SAAAC,KAAK,qBACf,KAAC,KAAD,EACO,EAAE,CAAEA,KAAK,CAACC,EADjB,CAEO,QAAQ,CAAED,KAAK,CAACE,kBAFvB,CAGO,KAAK,CAAEF,KAAK,CAACG,KAHpB,CAIO,MAAM,CAAEH,KAAK,CAACI,MAJrB,EAAYJ,KAAK,CAACC,EAAlB,CADe,EAAhB,CANH,EAFJ,EAJF,GADF,CAuBD,CAED,cAAenC,KAAf"},"metadata":{},"sourceType":"module"}